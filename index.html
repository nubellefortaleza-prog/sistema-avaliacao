<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Avalia√ß√£o Organizacional</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <header class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Sistema de Avalia√ß√£o Organizacional</h1>
                <p class="hero-subtitle">Ciclo de Avalia√ß√£o 2025 - Sua opini√£o √© fundamental para construirmos um ambiente de trabalho melhor</p>
            </div>
        </header>

        <!-- Cards de Formul√°rios -->
        <section class="forms-grid">
            <div class="form-card" data-status="pending">
                <div class="card-header">
                    <div class="card-icon">üìä</div>
                    <div class="card-badge">An√¥nimo</div>
                </div>
                <h2 class="card-title">Pesquisa de Clima</h2>
                <p class="card-description">Avalie o ambiente de trabalho, lideran√ßa e oportunidades de crescimento</p>
                <div class="card-meta">
                    <span class="meta-item">‚è±Ô∏è 5-7 min</span>
                    <span class="meta-item">üìù 15 perguntas</span>
                </div>
                <a href="clima.html" class="btn btn-primary">Iniciar Pesquisa</a>
                <div class="card-status" id="status-clima">
                    <span class="status-badge pending">Pendente</span>
                </div>
            </div>

            <div class="form-card" data-status="pending">
                <div class="card-header">
                    <div class="card-icon">üìà</div>
                    <div class="card-badge">Individual</div>
                </div>
                <h2 class="card-title">Autoavalia√ß√£o</h2>
                <p class="card-description">Reflita sobre seu desempenho, resultados e √°reas de desenvolvimento</p>
                <div class="card-meta">
                    <span class="meta-item">‚è±Ô∏è 10-12 min</span>
                    <span class="meta-item">üìù 20 perguntas</span>
                </div>
                <a href="autoavaliacao.html" class="btn btn-primary">Fazer Autoavalia√ß√£o</a>
                <div class="card-status" id="status-auto">
                    <span class="status-badge pending">Pendente</span>
                </div>
            </div>

            <div class="form-card" data-status="pending">
                <div class="card-header">
                    <div class="card-icon">üîÑ</div>
                    <div class="card-badge">Confidencial</div>
                </div>
                <h2 class="card-title">Avalia√ß√£o 360¬∫</h2>
                <p class="card-description">Avalie seus colegas de trabalho de forma construtiva e an√¥nima</p>
                <div class="card-meta">
                    <span class="meta-item">‚è±Ô∏è 5-7 min por pessoa</span>
                    <span class="meta-item">üìù Por colega</span>
                </div>
                <a href="avaliacao360.html" class="btn btn-primary">Avaliar Colegas</a>
                <div class="card-status" id="status-360">
                    <span class="status-badge pending">Pendente</span>
                </div>
            </div>

            <div class="form-card" data-status="pending">
                <div class="card-header">
                    <div class="card-icon">üß†</div>
                    <div class="card-badge">Individual</div>
                </div>
                <h2 class="card-title">Perfil DISC</h2>
                <p class="card-description">Entenda seu estilo de trabalho e como maximizar suas for√ßas</p>
                <div class="card-meta">
                    <span class="meta-item">‚è±Ô∏è 5-8 min</span>
                    <span class="meta-item">üìù 21 perguntas</span>
                </div>
                <a href="disc.html" class="btn btn-primary">Descobrir Perfil</a>
                <div class="card-status" id="status-disc">
                    <span class="status-badge pending">Pendente</span>
                </div>
            </div>
        </section>

        <!-- Admin Section -->
        <section class="admin-section">
            <div class="admin-card">
                <h3>√Årea Administrativa</h3>
                <p>Acesse os dashboards e relat√≥rios de an√°lise</p>
                <div class="admin-buttons">
                    <a href="dashboard.html" class="btn btn-secondary">üìä Dashboard</a>
                    <a href="relatorios.html" class="btn btn-secondary">üìà Relat√≥rios</a>
                    <button onclick="exportarDados()" class="btn btn-secondary">üíæ Exportar Dados</button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Sistema de Avalia√ß√£o Organizacional - Conformidade NR-1</p>
            <p class="footer-meta">Dados armazenados localmente | 100% Confidencial</p>
        </footer>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Atualizar status dos formul√°rios ao carregar p√°gina
        window.addEventListener('DOMContentLoaded', () => {
            atualizarStatusFormularios();
        });

        function atualizarStatusFormularios() {
            const formulariosStatus = {
                clima: localStorage.getItem('clima_completed'),
                auto: localStorage.getItem('autoavaliacao_completed'),
                disc: localStorage.getItem('disc_completed')
            };

            // Clima
            if (formulariosStatus.clima) {
                document.getElementById('status-clima').innerHTML = 
                    '<span class="status-badge completed">‚úì Conclu√≠do</span>';
            }

            // Autoavalia√ß√£o
            if (formulariosStatus.auto) {
                document.getElementById('status-auto').innerHTML = 
                    '<span class="status-badge completed">‚úì Conclu√≠do</span>';
            }

            // DISC
            if (formulariosStatus.disc) {
                document.getElementById('status-disc').innerHTML = 
                    '<span class="status-badge completed">‚úì Conclu√≠do</span>';
            }

            // 360¬∫ - contar quantas avalia√ß√µes foram feitas
            const avaliacoes360 = JSON.parse(localStorage.getItem('avaliacoes_360') || '[]');
            if (avaliacoes360.length > 0) {
                document.getElementById('status-360').innerHTML = 
                    `<span class="status-badge in-progress">${avaliacoes360.length} avalia√ß√µes feitas</span>`;
            }
        }

        function exportarDados() {
            const dados = {
                clima: JSON.parse(localStorage.getItem('respostas_clima') || '[]'),
                autoavaliacoes: JSON.parse(localStorage.getItem('autoavaliacoes') || '[]'),
                avaliacoes360: JSON.parse(localStorage.getItem('avaliacoes_360') || '[]'),
                disc: JSON.parse(localStorage.getItem('respostas_disc') || '[]')
            };

            const dataStr = JSON.stringify(dados, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `dados_avaliacao_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            alert('‚úì Dados exportados com sucesso!');
        }
    </script>
</body>
</html>
